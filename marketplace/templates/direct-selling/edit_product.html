<!-- templates/farmer/edit_product.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Product</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="max-w-4xl mx-auto py-10 px-4">
        <!-- Header -->
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold text-green-700">‚úèÔ∏è Edit Product - {{ product.name }}</h2>
            <a href="{% url 'my_products' %}" class="text-white bg-green-600 hover:bg-green-700 font-semibold py-2 px-4 rounded">
                ‚Üê Back to Products
            </a>
        </div>

        <!-- Edit Form -->
        <form method="post" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}

    {% if form.errors %}
    <div class="bg-red-100 text-red-700 p-4 rounded">
        <strong class="font-bold">Form errors:</strong>
        <ul class="list-disc list-inside mt-2">
        {% for field in form %}
            {% for error in field.errors %}
                <li><strong>{{ field.label }}</strong>: {{ error }}</li>
            {% endfor %}
        {% endfor %}
        </ul>
    </div>
    {% endif %}

    <div>
        <label class="block mb-2 font-semibold">Product Name</label>
        {{ form.name }}
    </div>

    <div>
        <label class="block mb-2 font-semibold">Price per Unit</label>
        {{ form.price_per_unit }}
    </div>
    <div>
        <label class="block mb-2 font-semibold">Location</label>
        {{ form.location }}
    </div>
    <div>
        <label class="block mb-2 font-semibold">Quantity</label>
        {{ form.quantity }}
    </div>

    <div>
        <label class="block mb-2 font-semibold">Description</label>
        {{ form.description }}
    </div>

    <div>
        <label class="block mb-2 font-semibold">Image</label>
        {{ form.image }}
    </div>

    <div class="flex justify-end space-x-4">
        <a href="{% url 'my_products' %}" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition">
            Cancel
        </a>
        <button type="submit" class="px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
            üíæ Save Changes
        </button>
    </div>
</form>

        </div>
    </div>

    <script>
        // Add Tailwind classes dynamically to each form field
        document.addEventListener("DOMContentLoaded", function () {
            const fields = document.querySelectorAll("input, textarea, select");
            fields.forEach(field => {
                field.classList.add(
                    "w-full", "px-4", "py-2", "border", "border-gray-300", "rounded-md",
                    "focus:outline-none", "focus:ring-2", "focus:ring-green-500"
                );
                if (field.tagName === "TEXTAREA") {
                    field.classList.add("h-32", "resize-none");
                }
            });
        });
    </script>

</body>
</html>
